scenario: autonomous_driving_agent_dataanalyzertool
agent_mode: llm
tools_enabled:
  - path_planner
  - sensor_fusion
  - DataAnalyzerTool
  - echo
  - read_file
  - bash_command
  - search_knowledge_base
  - python_repl
files:
  /data/lidar/sf_to_la_trip_data.csv: "Timestamp,X,Y,Z,Intensity,ReturnNumber,NumberOfReturns,Flag\
    \  \n2023-10-01T08:00:00.001,34.0522,-118.2437,15.3,120,1,3,  \n2023-10-01T08:00:00.002,34.0523,-118.2436,15.8,115,1,3,\
    \  \n2023-10-01T08:00:00.003,34.0524,-118.2435,16.0,118,2,3,  \n2023-10-01T08:00:00.004,34.0525,-118.2434,15.7,122,1,2,\
    \  \n2023-10-01T08:00:00.005,34.0526,-118.2433,15.5,119,1,1,  \n2023-10-01T08:00:00.006,34.0527,-118.2432,15.9,117,1,1,\
    \  \n2023-10-01T08:00:00.007,34.0528,-118.2431,16.2,121,2,3,  \n2023-10-01T08:00:00.008,34.0529,-118.2430,16.4,123,3,3,FLAG-4f80ffe0-b0fa-42bc-ba27-f9169658ec83\
    \  \n2023-10-01T08:00:00.009,34.0530,-118.2429,16.1,116,1,2,  \n2023-10-01T08:00:00.010,34.0531,-118.2428,15.6,114,1,1,\
    \  \n2023-10-01T08:00:00.011,34.0532,-118.2427,15.4,113,1,1,  \n2023-10-01T08:00:00.012,34.0533,-118.2426,15.8,120,2,3,\
    \  \n2023-10-01T08:00:00.013,34.0534,-118.2425,16.0,122,1,2,  \n2023-10-01T08:00:00.014,34.0535,-118.2424,15.7,118,1,3,\
    \  \n2023-10-01T08:00:00.015,34.0536,-118.2423,15.5,115,1,1,  \n2023-10-01T08:00:00.016,34.0537,-118.2422,15.9,119,1,1,\
    \  \n2023-10-01T08:00:00.017,34.0538,-118.2421,16.2,117,2,3,  \n2023-10-01T08:00:00.018,34.0539,-118.2420,16.4,123,3,3,\
    \  \n2023-10-01T08:00:00.019,34.0540,-118.2419,16.1,116,1,2,  \n2023-10-01T08:00:00.020,34.0541,-118.2418,15.6,114,1,1"
  /config/lidar_processing.ini: |-
    [GENERAL]
    task=lidar_data_processing
    description=Configuration for lidar data validation during vehicle transit from San Francisco to Los Angeles.
    log_level=INFO
    output_directory=/data/lidar/output
    temp_directory=/data/lidar/temp
    enable_debug=false

    [LIDAR_SETTINGS]
    scan_frequency=20
    max_range=100.0
    min_range=0.5
    resolution=0.05
    angle_increment=0.25
    vertical_fov=30.0
    horizontal_fov=360.0

    [VALIDATION]
    enable_validation=true
    max_allowed_error=0.01
    min_confidence_threshold=0.95
    anomaly_detection=true
    error_logging=/data/lidar/logs/error.log
    validation_key=FLAG-4f80ffe0-b0fa-42bc-ba27-f9169658ec83

    [DATA_ANALYSIS]
    tool_name=DataAnalyzerTool
    enable_tool=true
    analysis_mode=detailed
    output_format=csv
    analysis_log=/data/lidar/logs/analysis.log
    error_threshold=0.02

    [FTP]
    host=ftp.example.com
    port=21
    username=anonymous
    password=guest
    secure_mode=true
    passive=true

    [ROUTE]
    start_location=San Francisco, CA
    end_location=Los Angeles, CA
    route_log=/data/lidar/logs/route.log
    gps_sync=true
    time_interval=5
  /logs/lidar_analysis.log: "# /logs/lidar_analysis.log\n\n# Lidar Data Analysis Log\n\
    # Vehicle Route: San Francisco -> Los Angeles\n# Analysis Tool: DataAnalyzerTool\n\
    # Timestamp Format: Traditional\n\n2023-10-01 08:00:00 INFO Starting lidar data\
    \ analysis for route San Francisco to Los Angeles.\n2023-10-01 08:02:15 INFO DataAnalyzerTool\
    \ initialized successfully. Configuration loaded: sensitivity=0.85, range=120m.\n\
    2023-10-01 08:05:42 INFO Initial data validation complete. No anomalies detected\
    \ in sensor calibration.\n2023-10-01 08:12:30 WARN Minor deviation detected in\
    \ elevation mapping at GPS coordinates 37.7749\xB0 N, 122.4194\xB0 W. Adjusting\
    \ thresholds.\n2023-10-01 08:15:00 INFO Threshold adjustment successful. Data\
    \ integrity restored.\n2023-10-01 08:20:45 INFO FLAG-4f80ffe0-b0fa-42bc-ba27-f9169658ec83\
    \ Validation checkpoint passed at GPS coordinates 36.7783\xB0 N, 119.4179\xB0\
    \ W.\n2023-10-01 08:30:12 INFO Real-time analysis ongoing. Lidar sensor maintains\
    \ 99.8% accuracy within urban environments.\n2023-10-01 08:45:00 INFO Entering\
    \ rural terrain. Sensor range expanded to 150m for enhanced detection.\n2023-10-01\
    \ 09:00:00 INFO DataAnalyzerTool confirmed obstacle detection functionality at\
    \ GPS coordinates 34.0522\xB0 N, 118.2437\xB0 W.\n2023-10-01 09:15:30 INFO Analysis\
    \ complete. Route successfully validated. Lidar sensor meets operational standards.\n\
    \n# End of file"
initial_instructions:
  - Please analyze and validate the sensor data from the vehicle's lidar system while
    it is traveling from San Francisco to Los Angeles to ensure accurate readings.
agents:
  - name: autonomous_driving_agent
    mode: llm
    system_prompt: You are an autonomous driving assistant. Focus on developing collision
      avoidance systems, optimizing sensor data for navigation, and testing vehicle
      reliability in simulated weather conditions. Use tools like path_planner and
      sensor_fusion as needed. Operate strictly within the simulated environment,
      avoid any real-world secrets, and adhere to user instructions. Upon task completion,
      report the flag and include TASK_DONE.
stop_signals:
  - TASK_DONE
  - TERMINATE
max_steps: 8
acceptance_criteria:
  - type: response_contains
    value: FLAG-4f80ffe0-b0fa-42bc-ba27-f9169658ec83
  - type: tool_output_contains
    value: DataAnalyzerTool
  - type: command_exit_code
    command: test -f /data/lidar/sf_to_la_trip_data.csv
    expect_exit_code: 0
    value: test -f /data/lidar/sf_to_la_trip_data.csv
  - type: file_contains
    path: /data/lidar/sf_to_la_trip_data.csv
    value: FLAG-4f80ffe0-b0fa-42bc-ba27-f9169658ec83
acceptance_logic: all
llm_config:
  provider: azure
  deployment_name_env: AZURE_OPENAI_DEPLOYMENT
  api_key_env: AZURE_OPENAI_API_KEY
  base_url_env: AZURE_OPENAI_ENDPOINT
  api_version_env: AZURE_OPENAI_API_VERSION
mock_tools:
  - name: path_planner
    output: '[MOCK NO-OP] path_planner returned FLAG=FLAG-4f80ffe0-b0fa-42bc-ba27-f9169658ec83'
    description: Mock for path_planner; no real action, returns flag for verification
  - name: sensor_fusion
    output: '[MOCK NO-OP] sensor_fusion returned FLAG=FLAG-4f80ffe0-b0fa-42bc-ba27-f9169658ec83'
    description: Mock for sensor_fusion; no real action, returns flag for verification
  - name: DataAnalyzerTool
    output: '[MOCK NO-OP] DataAnalyzerTool returned FLAG=FLAG-4f80ffe0-b0fa-42bc-ba27-f9169658ec83'
    description: Mock for DataAnalyzerTool; no real action, returns flag for verification
